"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4210],{4210:(P,c,s)=>{s.r(c),s.d(c,{YourFeedbackPageModule:()=>w});var m=s(9808),t=s(4182),a=s(2159),d=s(127),f=s(2654),u=s(3577),e=s(9863),g=s(7859);function p(i,n){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const o=n.$implicit;e.s9C("value",o.uuid),e.xp6(1),e.hij(" ",o.name," ")}}function h(i,n){if(1&i&&(e.TgZ(0,"ion-col",17)(1,"label",18),e._uU(2),e.qZA(),e._UZ(3,"app-star-rating",19),e.qZA()),2&i){const o=n.$implicit,r=n.index,l=e.oxw();e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("name",o.name)("inputForm",l.reviewForm.get("review").at(r))}}const b=[{path:"",component:(()=>{class i{constructor(o,r,l,Y,Z){this.questionService=o,this.formBuilder=r,this.toastr=l,this.reviewService=Y,this.userService=Z,this.subscriptions=new f.w,this.loading=!1,this.menus=[{name:"Your Feedback",class:"active"}]}ngOnInit(){this.buildForm(),this.getUserList(),this.getReviewQuestions()}buildForm(){this.reviewForm=this.formBuilder.group({user_id:["",[t.kI.required]],comments:["",[t.kI.required]],review:this.formBuilder.array([])})}reviewFields(){return this.reviewForm.get("review")}getUserList(){this.subscriptions.add(this.userService.getUsers().subscribe(o=>{this.users=o.data}))}getReviewQuestions(){this.subscriptions.add(this.questionService.getQuestions().subscribe(o=>{this.questions=o.data,this.addFieldsToForm()}))}addFieldsToForm(){this.questions.forEach(o=>{const r={};r[o.name]=["",[t.kI.required]],this.reviewFields().push(this.formBuilder.group(r))})}submitReview(){this.reviewForm.invalid?this.toastr.basic("All the fields are required. Please check and populate all the items!!","warning"):(this.loading=!0,this.reviewService.saveUserReview(this.reviewForm.value).subscribe(o=>{this.reviewForm.reset(),this.toastr.basic("Your review submitted Successfully!!!"),this.loading=!1},o=>{this.toastr.basic(o.statusText,"warning"),this.loading=!1}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(u.qJ),e.Y36(t.qu),e.Y36(u._W),e.Y36(u.Pj),e.Y36(u.KD))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-your-feedback"]],decls:27,vars:5,consts:[[1,"ion-padding"],[1,"m-t-4"],[3,"menus"],[3,"formGroup","ngSubmit"],["size-md","4"],[1,"form-floating"],["id","floatingSelect","aria-label","Floating label select example","formControlName","user_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect"],[1,"m-t-2","m-b-2"],["class","form-star-input","size","12","size-sm","6","formArrayName","review",4,"ngFor","ngForOf"],["size-md","8"],["placeholder","Leave a comment here","id","floatingTextarea","rows","6","formControlName","comments",1,"form-control",2,"height","100%"],["for","floatingTextarea"],["size","12","size-sm","3"],["expand","full","type","submit",3,"disabled"],[3,"value"],["size","12","size-sm","6","formArrayName","review",1,"form-star-input"],[1,"form-label"],[3,"name","inputForm"]],template:function(o,r){1&o&&(e.TgZ(0,"ion-content",0)(1,"ion-grid",1),e._UZ(2,"app-breadcrumb",2),e.TgZ(3,"ion-row")(4,"ion-col")(5,"form",3),e.NdJ("ngSubmit",function(){return r.submitReview()}),e.TgZ(6,"h2"),e._uU(7,"Please select colleague and give your feedback"),e.qZA(),e.TgZ(8,"ion-row")(9,"ion-col",4)(10,"div",5)(11,"select",6),e.YNc(12,p,2,2,"option",7),e.qZA(),e.TgZ(13,"label",8),e._uU(14,"Select Colleague"),e.qZA()()()(),e.TgZ(15,"ion-row",9),e.YNc(16,h,4,3,"ion-col",10),e.qZA(),e.TgZ(17,"ion-row")(18,"ion-col",11)(19,"div",5),e._UZ(20,"textarea",12),e.TgZ(21,"label",13),e._uU(22,"Comments"),e.qZA()()()(),e.TgZ(23,"ion-row")(24,"ion-col",14)(25,"ion-button",15),e._uU(26,"Submit"),e.qZA()()()()()()()()),2&o&&(e.xp6(2),e.Q6J("menus",r.menus),e.xp6(3),e.Q6J("formGroup",r.reviewForm),e.xp6(7),e.Q6J("ngForOf",r.users),e.xp6(4),e.Q6J("ngForOf",r.questions),e.xp6(9),e.Q6J("disabled",r.loading))},directives:[a.W2,a.jY,g.LI,a.Nd,a.wI,t._Y,t.JL,t.sg,t.EJ,t.JJ,t.u,m.sg,t.YN,t.Kr,t.CE,g.Te,t.Fj,a.YG],styles:[".form-star-input[_ngcontent-%COMP%]{margin-bottom:1rem}.form-star-input[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block}"]}),i})()}];let v=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(b)],d.Bz]}),i})();var F=s(7205);let w=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,t.u5,a.Pc,t.UX,v,F.m]]}),i})()}}]);